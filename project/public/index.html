<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HireWork - Find & Hire Skilled Workers</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>

<!-- Loading Overlay -->
<div class="loading-overlay" id="loading-overlay">
    <div class="loader">
        <div class="loader-spinner"></div>
        <p class="loader-text">Loading...</p>
    </div>
</div>

<!-- Navbar -->
<nav class="navbar">
    <div class="nav-brand" onclick="navigate('home')">HireWork <span>PRO</span></div>

    <button class="hamburger" id="hamburger" onclick="toggleMobileMenu()" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <div class="nav-menu" id="nav-menu">
        <div class="nav-links">
            <button class="nav-link active" data-page="home" onclick="navigate('home'); closeMobileMenu()">Home</button>
            <button class="nav-link" data-page="workers" onclick="navigate('workers'); closeMobileMenu()">Workers</button>
            <button class="nav-link" data-page="posts" onclick="navigate('posts'); closeMobileMenu()">Posts</button>
            <button class="nav-link" data-page="dashboard" onclick="navigate('dashboard'); closeMobileMenu()" id="nav-dashboard" style="display:none;">Dashboard</button>
        </div>
        <div class="nav-auth" id="nav-auth">
            <button class="btn btn-outline btn-sm" onclick="navigate('auth'); closeMobileMenu()">Log In</button>
            <button class="btn btn-primary btn-sm" onclick="navigate('auth', 'register'); closeMobileMenu()">Sign Up</button>
        </div>
        <div class="nav-auth" id="nav-user" style="display:none;">
            <button class="balance-badge" id="balance-display" onclick="openFundsModal(); closeMobileMenu()">$0.00</button>
            <span class="user-badge" id="user-display"></span>
            <button class="btn btn-outline btn-sm" onclick="logout(); closeMobileMenu()">Log Out</button>
        </div>
    </div>
</nav>

<!-- Mobile overlay -->
<div class="nav-overlay" id="nav-overlay" onclick="closeMobileMenu()"></div>

<!-- ═══════════════ HOME PAGE ═══════════════ -->
<div class="page active" id="page-home">
    <div class="hero">
        <div class="hero-content">
            <h1>Hire Skilled Workers Instantly</h1>
            <p>Find trusted professionals for design, construction, technology, and more. Browse categories or search for the perfect match.</p>
            <div class="search-box">
                <input type="text" id="hero-search" placeholder="Search for workers, skills, or categories...">
                <button onclick="heroSearch()">Search</button>
            </div>
        </div>
    </div>

    <div class="section">
        <h2 class="section-title">Browse Categories</h2>
        <p class="section-subtitle">Select a category to find the right professional for your project</p>
        <div class="categories-grid" id="categories-grid">
            <!-- Filled by JS -->
        </div>
    </div>

    <div class="section">
        <h2 class="section-title">Top Rated Workers</h2>
        <p class="section-subtitle">Our highest rated professionals across all categories</p>
        <div class="workers-grid" id="top-workers">
            <!-- Filled by JS -->
        </div>
    </div>
</div>

<!-- ═══════════════ AUTH PAGE ═══════════════ -->
<div class="page" id="page-auth">
    <div class="auth-container">
        <div class="auth-card">
            <h2 id="auth-title">Welcome Back</h2>
            <p class="subtitle" id="auth-subtitle">Log in to your account</p>

            <div class="auth-tabs">
                <button class="auth-tab active" onclick="switchAuthTab('login')">Log In</button>
                <button class="auth-tab" onclick="switchAuthTab('register')">Sign Up</button>
                <button class="auth-tab" onclick="switchAuthTab('change-password')">Change Password</button>
            </div>

            <div class="error-msg" id="auth-error"></div>
            <div class="success-msg" id="auth-success"></div>

            <!-- Login Form -->
            <form id="login-form" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="login-email" placeholder="you@example.com" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="login-password" placeholder="Enter your password" required>
                </div>
                <button type="submit" class="auth-submit">Log In</button>
            </form>

            <!-- Register Form -->
            <form id="register-form" onsubmit="handleRegister(event)" style="display:none;">
                <div class="form-group">
                    <label>Name</label>
                    <input type="text" id="reg-name" placeholder="Your full name" required>
                </div>
                <div class="form-group">
                    <label>Username (Optional)</label>
                    <input type="text" id="reg-username" placeholder="Choose a username">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="reg-email" placeholder="you@example.com" required>
                </div>
                <div class="form-group">
                    <label>Age (Optional)</label>
                    <input type="number" id="reg-age" placeholder="Your age" min="13" max="120">
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="reg-password" placeholder="At least 6 characters" required minlength="6">
                </div>
                <button type="submit" class="auth-submit">Create Account</button>
            </form>

            <!-- Change Password Form -->
            <form id="change-password-form" onsubmit="handleChangePassword(event)" style="display:none;">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="change-email" placeholder="Enter your email" required>
                </div>
                <div class="form-group">
                    <label>New Password</label>
                    <input type="password" id="change-new-password" placeholder="At least 6 characters" required minlength="6">
                </div>
                <div class="form-group">
                    <label>Confirm New Password</label>
                    <input type="password" id="change-confirm-password" placeholder="Re-enter new password" required minlength="6">
                </div>
                <button type="submit" class="auth-submit">Change Password</button>
            </form>
        </div>
    </div>
</div>

<!-- ═══════════════ WORKERS PAGE ═══════════════ -->
<div class="page" id="page-workers">
    <div class="section">
        <h2 class="section-title">Browse Workers</h2>
        <p class="section-subtitle">Find the perfect professional for your project</p>

        <div class="post-filters" id="worker-filters">
            <button class="filter-btn active" onclick="filterWorkers('All')">All</button>
            <!-- Filled by JS -->
        </div>

        <div class="search-input-wrapper">
            <input type="text" id="worker-search" placeholder="Search workers by name, skill, or description..."
                   oninput="searchWorkers()">
        </div>

        <div class="workers-grid" id="workers-list">
            <!-- Filled by JS -->
        </div>
    </div>
</div>

<!-- ═══════════════ POSTS PAGE ═══════════════ -->
<div class="page" id="page-posts">
    <div class="section">
        <div class="posts-header">
            <div>
                <h2 class="section-title">Community Posts</h2>
                <p class="section-subtitle" style="margin-bottom:0;">Share job listings, reviews, and experiences</p>
            </div>
            <button class="btn btn-primary" onclick="openPostModal()" id="create-post-btn" style="display:none;">+ New Post</button>
        </div>

        <div class="post-filters" id="post-filters">
            <button class="filter-btn active" onclick="filterPosts('All')">All</button>
            <button class="filter-btn" onclick="filterPosts('Job Listing')">Job Listing</button>
            <button class="filter-btn" onclick="filterPosts('Review')">Review</button>
            <button class="filter-btn" onclick="filterPosts('Discussion')">Discussion</button>
            <button class="filter-btn" onclick="filterPosts('General')">General</button>
        </div>

        <div class="posts-grid" id="posts-list">
            <!-- Filled by JS -->
        </div>
    </div>
</div>

<!-- ═══════════════ DASHBOARD PAGE ═══════════════ -->
<div class="page" id="page-dashboard">
    <div class="dashboard-header">
        <h1 id="dashboard-welcome">Welcome back!</h1>
        <p>Manage your hires and track your activity</p>
    </div>

    <div class="section">
        <div class="dashboard-stats" id="dashboard-stats">
            <div class="stat-card">
                <div class="stat-number" id="stat-active">0</div>
                <div class="stat-label">Active Hires</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="stat-completed">0</div>
                <div class="stat-label">Completed</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="stat-posts">0</div>
                <div class="stat-label">Your Posts</div>
            </div>
            <div class="stat-card stat-card-balance" onclick="openFundsModal()">
                <div class="stat-number" id="stat-balance">$0.00</div>
                <div class="stat-label">Balance</div>
                <div class="stat-action">+ Add Funds</div>
            </div>
        </div>

        <h2 class="section-title">Recent Hires</h2>
        <p class="section-subtitle">Workers you've hired recently</p>

        <div class="hires-list" id="hires-list">
            <!-- Filled by JS -->
        </div>
    </div>
</div>

<!-- ═══════════════ POST MODAL ═══════════════ -->
<div class="modal-overlay" id="post-modal">
    <div class="modal">
        <h2>Create a Post</h2>
        <form onsubmit="createPost(event)">
            <div class="form-group">
                <label>Title</label>
                <input type="text" id="post-title" placeholder="What's this about?" required>
            </div>
            <div class="form-group">
                <label>Category</label>
                <select id="post-category">
                    <option value="General">General</option>
                    <option value="Job Listing">Job Listing</option>
                    <option value="Review">Review</option>
                    <option value="Discussion">Discussion</option>
                </select>
            </div>
            <div class="form-group">
                <label>Content</label>
                <textarea id="post-content" placeholder="Write your post..." required></textarea>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-outline" onclick="closePostModal()">Cancel</button>
                <button type="submit" class="btn btn-primary">Publish Post</button>
            </div>
        </form>
    </div>
</div>

<!-- ═══════════════ ADD FUNDS MODAL ═══════════════ -->
<div class="modal-overlay" id="funds-modal">
    <div class="modal">
        <h2>Add Funds</h2>
        <p class="funds-balance">Current balance: <strong id="funds-current-balance">$0.00</strong></p>
        <form onsubmit="addFunds(event)">
            <div class="form-group">
                <label>Amount ($)</label>
                <input type="number" id="funds-amount" placeholder="Enter amount" min="1" max="10000" step="0.01" required>
            </div>
            <div class="quick-amounts">
                <button type="button" class="quick-amount-btn" onclick="setFundAmount(25)">$25</button>
                <button type="button" class="quick-amount-btn" onclick="setFundAmount(50)">$50</button>
                <button type="button" class="quick-amount-btn" onclick="setFundAmount(100)">$100</button>
                <button type="button" class="quick-amount-btn" onclick="setFundAmount(500)">$500</button>
            </div>
            <div class="modal-actions">
                <button type="button" class="btn btn-outline" onclick="closeFundsModal()">Cancel</button>
                <button type="submit" class="btn btn-primary">Add Funds</button>
            </div>
        </form>
    </div>
</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

<!-- Footer -->
<footer class="footer" id="site-footer">
    <div class="footer-inner">
        <div class="footer-grid">
            <div class="footer-col">
                <div class="footer-brand">HireWork <span>PRO</span></div>
                <p class="footer-desc">Find trusted professionals for any project. Quality work, fair prices, instant hiring.</p>
            </div>
            <div class="footer-col">
                <h4>Quick Links</h4>
                <ul>
                    <li><a onclick="navigate('home')">Home</a></li>
                    <li><a onclick="navigate('workers')">Browse Workers</a></li>
                    <li><a onclick="navigate('posts')">Community Posts</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Categories</h4>
                <ul>
                    <li><a onclick="navigate('workers'); filterWorkers('Design')">Design</a></li>
                    <li><a onclick="navigate('workers'); filterWorkers('Technology')">Technology</a></li>
                    <li><a onclick="navigate('workers'); filterWorkers('Construction')">Construction</a></li>
                    <li><a onclick="navigate('workers'); filterWorkers('Cleaning')">Cleaning</a></li>
                </ul>
            </div>
            <div class="footer-col">
                <h4>Support</h4>
                <ul>
                    <li><a>Help Center</a></li>
                    <li><a>Terms of Service</a></li>
                    <li><a>Privacy Policy</a></li>
                    <li><a>Contact Us</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 HireWork PRO. All rights reserved.</p>
        </div>
    </div>
</footer>

<script src="/js/app.js?v=4.0"></script>
</body>
</html>
